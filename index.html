<!DOCTYPE html>
<html lang="te">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CVK ENTERPRISE</title>
    <style>
        :root { --primary: #075E54; --bg: #f0f2f5; }
        body { font-family: sans-serif; margin: 0; background: var(--bg); padding-bottom: 30px; }
        .header { background: #FFC107; padding: 20px; text-align: center; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        .logo { width: 80px; height: 80px; border-radius: 50%; border: 2px solid #333; }
        .container { max-width: 500px; margin: auto; padding: 15px; }
        .card { background: white; padding: 15px; border-radius: 10px; margin-bottom: 15px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        h3 { color: var(--primary); border-bottom: 2px solid #eee; padding-bottom: 5px; }
        input, select { width: 100%; padding: 12px; margin-top: 8px; border: 1px solid #ccc; border-radius: 5px; box-sizing: border-box; }
        .btn { width: 100%; padding: 15px; border: none; border-radius: 5px; font-weight: bold; color: white; cursor: pointer; margin-top: 10px; font-size: 16px; }
        .btn-wa { background: #25D366; }
        #loading { font-weight: bold; color: red; text-align: center; padding: 10px; }
    </style>
</head>
<body>

<div class="header">
    <img src="https://raw.githubusercontent.com/cvkenterprise-hub/cvkenterprise/main/logo.png" class="logo">
    <h2 style="margin:5px 0;">CVK ENTERPRISE</h2>
</div>

<div class="container">
    <div class="card">
        <p><b>‡∞Æ‡∞æ ‡∞ó‡±Å‡∞∞‡∞ø‡∞Ç‡∞ö‡∞ø:</b> CVK ‡∞é‡∞Ç‡∞ü‡∞∞‡±ç‡∞™‡±ç‡∞∞‡±à‡∞ú‡±ç ‡∞ó‡∞§ 2.5 ‡∞∏‡∞Ç‡∞µ‡∞§‡±ç‡∞∏‡∞∞‡∞æ‡∞≤‡±Å‡∞ó‡∞æ ‡∞µ‡∞ø‡∞∂‡∞æ‡∞ñ‡∞™‡∞ü‡±ç‡∞®‡∞Ç‡∞≤‡±ã ‡∞Ö‡∞§‡±ç‡∞Ø‡±Å‡∞§‡±ç‡∞§‡∞Æ ‡∞∏‡±á‡∞µ‡∞≤‡±Å ‡∞Ö‡∞Ç‡∞¶‡∞ø‡∞∏‡±ç‡∞§‡±ã‡∞Ç‡∞¶‡∞ø.</p>
    </div>

    <div class="card">
        <h3>üì¶ ‡∞Æ‡∞æ ‡∞µ‡∞¶‡±ç‡∞¶ ‡∞â‡∞®‡±ç‡∞® ‡∞∏‡±ç‡∞ü‡∞æ‡∞ï‡±ç (Live Stock)</h3>
        <input type="text" id="search" placeholder="‡∞™‡±ç‡∞∞‡±ã‡∞°‡∞ï‡±ç‡∞ü‡±ç ‡∞™‡±á‡∞∞‡±Å‡∞§‡±ã ‡∞µ‡±Ü‡∞§‡∞ï‡∞Ç‡∞°‡∞ø..." onkeyup="filterStock()">
        <div id="loading">‡∞∏‡±ç‡∞ü‡∞æ‡∞ï‡±ç ‡∞≤‡±ã‡∞°‡±ç ‡∞Ö‡∞µ‡±Å‡∞§‡±ã‡∞Ç‡∞¶‡∞ø... ‡∞¶‡∞Ø‡∞ö‡±á‡∞∏‡∞ø ‡∞Ü‡∞ó‡∞Ç‡∞°‡∞ø.</div>
        <div id="stockList" style="max-height: 200px; overflow-y: auto; margin-top: 10px; display: none; font-size: 14px;">
            <table id="stockTable" style="width: 100%; border-collapse: collapse;">
                <tbody id="stockBody"></tbody>
            </table>
        </div>
    </div>

    <div class="card">
        <h3>üõí ‡∞Ü‡∞∞‡±ç‡∞°‡∞∞‡±ç ‡∞´‡∞æ‡∞Æ‡±ç</h3>
        <label>‡∞™‡±á‡∞∞‡±Å:</label>
        <input type="text" id="custName" placeholder="‡∞Æ‡±Ä ‡∞™‡±á‡∞∞‡±Å ‡∞∞‡∞æ‡∞Ø‡∞Ç‡∞°‡∞ø">
        <label>‡∞´‡±ã‡∞®‡±ç ‡∞®‡∞Ç‡∞¨‡∞∞‡±ç:</label>
        <input type="tel" id="custMobile" placeholder="‡∞Æ‡±Ä ‡∞Æ‡±ä‡∞¨‡±à‡∞≤‡±ç ‡∞®‡∞Ç‡∞¨‡∞∞‡±ç">
        <label>‡∞™‡±ç‡∞∞‡±ã‡∞°‡∞ï‡±ç‡∞ü‡±ç ‡∞é‡∞Ç‡∞ö‡±Å‡∞ï‡±ã‡∞Ç‡∞°‡∞ø:</label>
        <input list="products" id="selectedProd" placeholder="‡∞™‡±à‡∞® ‡∞â‡∞®‡±ç‡∞® ‡∞∏‡±ç‡∞ü‡∞æ‡∞ï‡±ç ‡∞≤‡±ã‡∞®‡∞ø ‡∞™‡±á‡∞∞‡±Å ‡∞∞‡∞æ‡∞Ø‡∞Ç‡∞°‡∞ø">
        <datalist id="products"></datalist>
        <label>‡∞ï‡±ç‡∞µ‡∞æ‡∞Ç‡∞ü‡∞ø‡∞ü‡±Ä:</label>
        <input type="number" id="qty" value="1">
        
        <button class="btn btn-wa" onclick="sendWA()">WhatsApp ‡∞≤‡±ã ‡∞Ü‡∞∞‡±ç‡∞°‡∞∞‡±ç ‡∞™‡∞Ç‡∞™‡∞Ç‡∞°‡∞ø</button>
    </div>
</div>

<script>
    // ‡∞Æ‡±Ä URL ‡∞á‡∞ï‡±ç‡∞ï‡∞° ‡∞ï‡∞∞‡±Ü‡∞ï‡±ç‡∞ü‡±ç‚Äå‡∞ó‡∞æ ‡∞á‡∞µ‡±ç‡∞µ‡∞¨‡∞°‡∞ø‡∞Ç‡∞¶‡∞ø
    const url = 'https://script.google.com/macros/s/AKfycbyAvqWNIyBJDKK6E1K51QlOkKddsVyaznfJp7MbE7IoD2w5XnaNO/exec';

    async function loadData() {
        try {
            const res = await fetch(url);
            const data = await res.json();
            let rows = "";
            let options = "";
            
            data.forEach(item => {
                if(item.ProductName) {
                    rows += `<tr><td style="padding:8px; border-bottom:1px solid #eee;">${item.ProductName}</td></tr>`;
                    options += `<option value="${item.ProductName}">`;
                }
            });

            document.getElementById('stockBody').innerHTML = rows;
            document.getElementById('products').innerHTML = options;
            document.getElementById('loading').style.display = 'none';
            document.getElementById('stockList').style.display = 'block';
        } catch (e) {
            document.getElementById('loading').innerHTML = "‡∞°‡±á‡∞ü‡∞æ ‡∞≤‡±ã‡∞°‡±ç ‡∞Ö‡∞µ‡±ç‡∞µ‡∞≤‡±á‡∞¶‡±Å. ‡∞á‡∞Ç‡∞ü‡∞∞‡±ç‡∞®‡±Ü‡∞ü‡±ç ‡∞∏‡∞∞‡∞ø‡∞ö‡±Ç‡∞∏‡±Å‡∞ï‡±ã‡∞Ç‡∞°‡∞ø.";
        }
    }

    function filterStock() {
        let input = document.getElementById('search').value.toUpperCase();
        let tr = document.getElementById('stockTable').getElementsByTagName('tr');
        for (let i = 0; i < tr.length; i++) {
            let td = tr[i].getElementsByTagName('td')[0];
            tr[i].style.display = (td && td.innerText.toUpperCase().indexOf(input) > -1) ? "" : "none";
        }
    }

    function sendWA() {
        const name = document.getElementById('custName').value;
        const prod = document.getElementById('selectedProd').value;
        const qty = document.getElementById('qty').value;
        
        if(!name || !prod) { alert("‡∞µ‡∞ø‡∞µ‡∞∞‡∞æ‡∞≤‡±Å ‡∞®‡∞ø‡∞Ç‡∞™‡∞Ç‡∞°‡∞ø"); return; }

        const msg = `*CVK Enterprise Order*\nName: ${name}\nProduct: ${prod}\nQty: ${qty}`;
        // ‡∞Æ‡±Å‡∞ñ‡±ç‡∞Ø ‡∞Æ‡∞æ‡∞∞‡±ç‡∞™‡±Å: https://wa.me/ ‡∞µ‡∞æ‡∞°‡∞ü‡∞Ç ‡∞µ‡∞≤‡±ç‡∞≤ ‡∞Æ‡±ä‡∞¨‡±à‡∞≤‡±ç ‡∞Ø‡∞æ‡∞™‡±ç‚Äå‡∞≤‡±ã ‡∞é‡∞∞‡±ç‡∞∞‡∞∞‡±ç ‡∞∞‡∞æ‡∞¶‡±Å
        window.location.href = `https://wa.me/919642162599?text=${encodeURIComponent(msg)}`;
    }

    window.onload = loadData;
</script>
</body>
</html>
